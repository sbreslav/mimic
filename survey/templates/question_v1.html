{% extends "base.html" %}
{% load staticfiles %}

{% block extra_head %}
<script type="text/javascript">
    var logBuffer = "";
    
    head.ready(function() {
    var answer_inputCount = 0;
    function logFormatted(e, msg) {
       
        var eventName = e.type;
        var eventData = "";
        if(eventName == "ready"){
            var newwidth = $(window).width();
            var newheight = $(window).height();
            eventData += newwidth + "\t" + newheight + "\t";
        }else if (eventName == "resize"){
            var newwidth = $(window).width();
            var newheight = $(window).height();
            eventData += newwidth + "\t" + newheight + "\t";
        }else if (eventName == "blur" || eventName == "focus"){
        }else if (eventName == "keydown"){
            eventData += e.keyCode;
        }else{
            eventData += e.pageX + "\t" + e.pageY + "\t" + e.which +"\t";
        }
        var logLine = e.timeStamp + "\t" + eventName + "\t" + eventData + "\n";
        logBuffer += logLine
        //console.log(logLine);
        
    }

    $(document).ready(function() {

      $(document).mousemove( function( e ) {
        // First mouse move lets add a ready event
        if(logBuffer == ""){
            logFormatted({'timeStamp':e.timeStamp, 'type':'ready'}, "");
        }
        logFormatted(e, "");
      });
      $(document).click( function( e ) {
        logFormatted(e, "");
      });

      $(document).dblclick( function( e ) {
        logFormatted(e, "");
      });

      $(document).mouseenter( function( e ) {
         // First mouse move lets add a ready event
        if(logBuffer == ""){
            logFormatted({'timeStamp':e.timeStamp, 'type':'ready'}, "");
        }
        logFormatted(e, "");
      });

      $(document).mouseleave( function( e ) {
        logFormatted(e, "");
      });
      
      $(document).keydown(function(e) {
        logFormatted(e, "");
      });

      $(window).resize(function( e ) {
        logFormatted(e, "");
      });
      $(window).scroll(function( e ) {
        logFormatted(e, "");
      });
      $(window).focus(function(e) {
         // First mouse move lets add a ready event
        if(logBuffer == ""){
            logFormatted({'timeStamp':e.timeStamp, 'type':'ready'}, "");
        }
        logFormatted(e, "");
      });
      $(window).blur(function(e) {
        logFormatted(e, "");
      });
      
      
      

     
    }); //$(document).ready(function() {
    
    }); //head.ready(function() {
</script>
{% endblock extra_head %}

{% block content %}
{% if qnum < 1 %}
        <h4>Problem: 1 of 1</h4>
{% else %}
        <h4>Questionnaire: Question {{qnum}} of {{qtotal}}</h4>
        
{% endif %}
        {% include question_template %}
{% endblock content %}

